@tailwind base;
@tailwind components;
@tailwind utilities;

/* safe area helpers for iOS notch and Android status bar */
:root{
	--safe-area-inset-top: env(safe-area-inset-top, 0px);
}

body {
	padding-top: var(--safe-area-inset-top);
	@apply font-sans;
}

.app-header {
	padding-top: calc(var(--safe-area-inset-top) + 8px);
}

.main-content {
	margin-top: calc(56px + var(--safe-area-inset-top));
}

/* Responsive map container that uses the --vh variable (fixes clipping on mobile rotation) */
.map-responsive {
	height: calc(var(--vh, 1vh) * 40);
}
@media (min-width: 640px) {
	.map-responsive { height: calc(var(--vh, 1vh) * 60); }
}
@media (min-width: 768px) {
	.map-responsive { height: calc(var(--vh, 1vh) * 70); }
}
@media (min-width: 1024px) {
	.map-responsive { height: calc(var(--vh, 1vh) * 90); }
}

/*
  Leaflet uses fairly high z-index values for panes/controls by default.
  In this app we rely on Tailwind z-40/50/60 overlays for modals; if Leaflet
  sits higher it can look like the map is "on top of every screen".
  Keep Leaflet below overlays while preserving its internal layering.
*/
.leaflet-container {
	position: relative;
	z-index: 0 !important;
}

.leaflet-pane {
	z-index: 1 !important;
}

.leaflet-top,
.leaflet-bottom {
	z-index: 10 !important;
}

.leaflet-control {
	z-index: 10 !important;
}

.leaflet-popup {
	z-index: 20 !important;
}
